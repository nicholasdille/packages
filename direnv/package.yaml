name: direnv
description: Unclutter your .profile
repo: direnv/direnv
links:
  - text: Homepage
    url: https://direnv.net/
version:
  latest: v2.25.0 # renovate: datasource=github-releases depName=direnv/direnv
  command: direnv --version
  filter: ^[[:digit:]]
  pattern: s/^(.+)$/v\1/
tags:
  - shell
  - configuration
files:
  - name: profile.d.direnv.sh
    content: |
      #!/bin/bash
      eval "$(direnv hook bash)"
install:
  script: |-
    echo "https://github.com/direnv/direnv/releases/download/${requested_version}/direnv.linux-amd64" | \
        download_file | \
        store_file direnv | \
        make_executable

    get_file direnv profile.d.direnv.sh | \
        store_file direnv.sh /etc/profile.d
