name: flux
description: Kubernetes toolkit for assembling CD pipelines the GitOps way
repo: fluxcd/flux2
version:
  latest: v0.4.3 # renovate: datasource=github-releases depName=fluxcd/flux2
  command: flux --version
  filter: ^flux
  pattern: s/^flux\sversion\s(.+)$/v\1/
tags:
  - kubernetes
  - k8s
  - gitops
install:
  script: |-
    echo "https://github.com/fluxcd/flux2/releases/download/${requested_version}/flux_${requested_version#v}_linux_amd64.tar.gz" | \
        download_file | \
        untar_file flux

    flux completion bash | \
        store_completion flux
